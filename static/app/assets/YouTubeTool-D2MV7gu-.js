import{r as t,c as Y,j as C}from"./index-B_bW3Ap_.js";import{P as E}from"./PlatformToolLayout-D8L_NNlt.js";const U=y=>{const{keyword:d,setKeyword:f,searchLanguage:n,ui:r,locationControls:b,onGlobalSearch:h,globalLoading:w}=y,[S,a]=t.useState([]),[T,l]=t.useState(!1),[v,c]=t.useState(null),e=t.useMemo(()=>Y(r),[r]),i=t.useMemo(()=>(n||r?.lang||"en").split("-")[0].toLowerCase(),[n,r?.lang]),m=t.useCallback(async s=>{const p=s.trim();if(!p){a([]);return}l(!0),c(null);try{const u=new URLSearchParams({q:p,lang:i}),g=await fetch(`/api/platforms/youtube?${u.toString()}`),o=await g.json().catch(()=>({}));if(!g.ok)throw new Error(o?.error||e("platform.youtube.errors.fetch","Unable to fetch YouTube suggestions"));const x=(Array.isArray(o?.suggestions)?o.suggestions:[]).map(L=>({title:L,subtitle:e("platform.youtube.results.subtitle","YouTube search suggestion"),metric:o?.metadata?.approx_volume?e("platform.youtube.results.metric","Popularity: {{volume}}",{volume:o.metadata.approx_volume}):void 0}));a(x)}catch(u){c(u?.message||e("platform.youtube.errors.generic","Unable to fetch YouTube suggestions")),a([])}finally{l(!1)}},[i]),k=t.useCallback(s=>{m(s)},[m]);return C.jsx(E,{platformName:e("platform.youtube.meta.name","YouTube"),keyword:d||"",onKeywordChange:f,onSearch:k,description:e("platform.youtube.description","Video keywords tailored for YouTube content."),results:S,placeholder:e("platform.youtube.placeholder","What type of video content do you want to create?"),emptyState:e("platform.youtube.emptyState","Enter a keyword to receive YouTube suggestions."),loading:T,error:v,controls:b,onGlobalSearch:h,globalLoading:w,translate:e})};export{U as default};
