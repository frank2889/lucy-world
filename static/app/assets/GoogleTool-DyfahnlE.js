import{r as t,j as R}from"./index-Cb5Uq9R4.js";import{P as v}from"./PlatformToolLayout-rep_d1Yz.js";const P=a=>{const{keyword:S,setKeyword:b,searchLanguage:c,country:p,ui:d}=a,[k,g]=t.useState([]),[L,h]=t.useState(!1),[C,s]=t.useState(null),f=t.useMemo(()=>(c||d?.lang||"en").split("-")[0].toLowerCase(),[c,d?.lang]),u=t.useMemo(()=>(p||"").trim().toUpperCase(),[p]),m=t.useCallback(async i=>{const y=i.trim();if(!y){g([]),s(null);return}h(!0),s(null);try{const r=new URLSearchParams({q:y,lang:f||"en"});u&&r.set("country",u);const w=await fetch(`/api/platforms/google?${r.toString()}`),e=await w.json().catch(()=>({}));if(!w.ok)throw new Error(e?.error||"Kon Google suggesties niet ophalen");const G=(Array.isArray(e?.suggestions)?e.suggestions:[]).map((o,j)=>{let n=null;if(typeof o=="string"?n=o:o&&typeof o=="object"&&(n=o.phrase||o.keyword||o.text||null),!n)return null;const l=[];return e?.metadata?.hl&&l.push(`Taal: ${e.metadata.hl.toUpperCase()}`),e?.metadata?.gl&&l.push(`Land: ${e.metadata.gl}`),{title:n,subtitle:l.length?l.join(" â€¢ "):"Google suggestie",metric:`#${j+1}`}}).filter(Boolean);g(G),G.length===0&&s("Geen Google suggesties gevonden voor dit zoekwoord.")}catch(r){s(r?.message||"Kon Google suggesties niet ophalen"),g([])}finally{h(!1)}},[f,u]),x=t.useCallback(i=>{m(i)},[m]);return R.jsx(v,{platformName:"Google",keyword:S||"",onKeywordChange:b,onSearch:x,description:"Directe autocomplete-suggesties uit Google Search.",results:k,placeholder:"Waar zoeken mensen naar op Google?",loading:L,error:C,emptyState:"Voer een zoekterm in om Google suggesties te zien.",controls:a.locationControls,onGlobalSearch:a.onGlobalSearch,globalLoading:a.globalLoading})};export{P as default};
