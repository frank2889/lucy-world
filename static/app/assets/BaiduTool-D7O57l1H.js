import{r as t,j as S}from"./index-CgW13nsE.js";import{P as B}from"./PlatformToolLayout-BUBe3-FM.js";const v=({keyword:p,setKeyword:g,searchLanguage:u})=>{const e=p??"",[h,n]=t.useState([]),[w,l]=t.useState(!1),[y,o]=t.useState(null),a=t.useRef(!1),r=t.useCallback(async k=>{const d=k.trim();if(!d){n([]),o(null);return}l(!0),o(null);try{const i=new URLSearchParams({q:d,lang:(u||"").toLowerCase()}),s=await fetch(`/api/platforms/baidu?${i.toString()}`);if(!s.ok){const c=await s.json().catch(()=>null);throw new Error(c?.error||"Onbekende Baidu fout")}const f=await s.json(),m=(Array.isArray(f?.suggestions)?f.suggestions:[]).map((c,z)=>({title:c,subtitle:"Baidu zoek suggestie",metric:`热门度 #${z+1}`}));n(m),m.length===0&&o("Geen Baidu suggesties gevonden voor dit zoekwoord.")}catch(i){const s=i instanceof Error?i.message:"Onbekende fout";o(s),n([])}finally{l(!1)}},[u]);return t.useEffect(()=>{if(!e.trim()){n([]),o(null),a.current=!1;return}a.current||(a.current=!0,r(e))},[e,r]),t.useEffect(()=>{e.trim()&&a.current&&r(e)},[u,e,r]),S.jsx(B,{platformName:"Baidu",keyword:e,onKeywordChange:g,onSearch:r,description:"Inzichten voor de Chinese zoekmachine Baidu.",results:h,placeholder:"Chinese zoekwoord of merk",loading:w,error:y,emptyState:"Voer een zoekwoord in om Baidu ideeën te zien."})};export{v as default};
