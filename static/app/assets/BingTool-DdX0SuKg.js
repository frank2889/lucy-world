import{r as t,j as g}from"./index-Cb5Uq9R4.js";import{P as M}from"./PlatformToolLayout-rep_d1Yz.js";const k=[{code:"en-US",label:"United States (English)"},{code:"en-GB",label:"United Kingdom (English)"},{code:"en-AU",label:"Australia (English)"},{code:"en-CA",label:"Canada (English)"},{code:"fr-FR",label:"France (Français)"},{code:"fr-CA",label:"Canada (Français)"},{code:"de-DE",label:"Deutschland (Deutsch)"},{code:"es-ES",label:"España (Español)"},{code:"es-MX",label:"México (Español)"},{code:"nl-NL",label:"Nederland (Nederlands)"},{code:"it-IT",label:"Italia (Italiano)"},{code:"pt-BR",label:"Brasil (Português)"},{code:"ja-JP",label:"日本 (日本語)"}],A="en-US",C=(r,h)=>{const s=(r||"").toLowerCase(),o=(h||"").toUpperCase(),l=`${s}-${o}`.toLowerCase();if(k.some(e=>e.code.toLowerCase()===l&&s&&o))return l;if(s){const e=k.find(a=>a.code.toLowerCase().startsWith(`${s}-`));if(e)return e.code}return A},U=r=>{const{keyword:h,setKeyword:s,searchLanguage:o,country:l}=r,e=h??"",[a,w]=t.useState(()=>C(o,l)),[L,f]=t.useState([]),[j,E]=t.useState(!1),[x,i]=t.useState(null),c=t.useRef(!1);t.useEffect(()=>{w(C(o,l))},[o,l]);const d=t.useCallback(async n=>{const y=n.trim();if(!y){f([]),i(null);return}E(!0),i(null);try{const m=new URLSearchParams({q:y,mkt:a,lang:(o||"").toLowerCase()}),u=await fetch(`/api/platforms/bing?${m.toString()}`);if(!u.ok){const p=await u.json().catch(()=>null);throw new Error(p?.error||"Onbekende Bing fout")}const b=await u.json(),S=(Array.isArray(b?.suggestions)?b.suggestions:[]).map((p,v)=>({title:p,subtitle:`Autocompletion (${b?.market||a})`,metric:`Populariteit #${v+1}`}));f(S),S.length===0&&i("Geen Bing suggesties gevonden voor dit zoekwoord.")}catch(m){const u=m instanceof Error?m.message:"Onbekende fout";i(u),f([])}finally{E(!1)}},[a,o]);t.useEffect(()=>{if(!e.trim()){f([]),i(null),c.current=!1;return}c.current||(c.current=!0,d(e))},[e,d]),t.useEffect(()=>{e.trim()&&c.current&&d(e)},[a,e,d]);const B=g.jsx("div",{className:"platform-tool__filters",children:g.jsxs("label",{htmlFor:"bing-market",children:["Markt",g.jsx("select",{id:"bing-market",value:a,onChange:n=>{w(n.target.value),c.current=!1},children:k.map(n=>g.jsx("option",{value:n.code,children:n.label},n.code))})]})});return g.jsx(M,{platformName:"Bing",keyword:e,onKeywordChange:s,onSearch:d,description:"Zoekmachine optimalisatie voor Microsoft Bing.",extraFilters:B,results:L,placeholder:"Welke zoekterm wil je in Bing ranken?",loading:j,error:x,emptyState:"Voer een zoekwoord in om Bing kansen te zien.",controls:r.locationControls,onGlobalSearch:r.onGlobalSearch,globalLoading:r.globalLoading})};export{U as default};
