import{f as D,j as e}from"./index-DbsFPuxG.js";const T=m=>{const{keyword:b,setKeyword:N,onSubmit:p,loading:u=!1,error:g,searchLanguage:k="en",setSearchLanguage:w,languagesList:S=[],country:r,setCountry:v,filteredCountries:n=[],showCountryDropdown:j=!1,setShowCountryDropdown:o,countrySearchTerm:_="",setCountrySearchTerm:c,getCountryName:z,categoryOrder:f=[],formatNumber:C,data:l,ui:t}=m,h=m.flagEmoji||D,L=s=>{if(!p){s.preventDefault();return}p(s)},d=C||(s=>Number(s||0).toLocaleString("nl-NL")),x=z||(s=>s);return e.jsxs("section",{className:"search-card",children:[e.jsx("h3",{children:t?.strings?.["search.title"]||"Keyword research"}),e.jsxs("form",{onSubmit:L,className:"row",children:[e.jsx("input",{type:"text",value:b,onChange:s=>N(s.target.value),placeholder:t?.strings?.["search.placeholder"]||"Enter a keyword",required:!0}),e.jsxs("div",{style:{position:"relative"},children:[e.jsxs("div",{className:"select flag-select",onClick:()=>o?.(!j),style:{cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",minWidth:"120px"},title:r?`${h(r)} ${x(r)}`:"Select country",children:[e.jsx("span",{children:r?`${h(r)} ${x(r)}`:"🌍 Select country"}),e.jsx("span",{style:{marginLeft:"8px",fontSize:"12px"},children:"▼"})]}),j&&e.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,background:"#0e1217",border:"1px solid var(--line)",borderRadius:"8px",maxHeight:"300px",overflow:"hidden",zIndex:1e3,boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:[e.jsx("input",{type:"text",placeholder:"Search countries...",value:_,onChange:s=>c?.(s.target.value),onKeyDown:s=>{if(s.key==="Escape")o?.(!1),c?.("");else if(s.key==="Enter"&&n.length>0){const a=n[0];v?.(a),o?.(!1),c?.("")}},style:{width:"100%",padding:"8px 12px",background:"transparent",border:"none",borderBottom:"1px solid var(--line)",color:"var(--text)",fontSize:"14px",outline:"none"},autoFocus:!0}),e.jsxs("div",{style:{maxHeight:"250px",overflow:"auto"},children:[n.slice(0,50).map(s=>e.jsxs("div",{onClick:()=>{v?.(s),o?.(!1),c?.("")},style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",cursor:"pointer",background:s===r?"var(--accent)":"transparent",color:s===r?"#fff":"var(--text)",borderRadius:s===r?"4px":"0",margin:s===r?"2px":"0"},children:[e.jsx("span",{style:{fontSize:"16px"},children:h(s)}),e.jsx("span",{style:{flex:1},children:x(s)}),e.jsx("span",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:s})]},s)),n.length===0&&e.jsx("div",{style:{padding:"16px",textAlign:"center",color:"var(--text-secondary)"},children:"No countries found"})]})]})]}),e.jsx("select",{className:"select",value:k,onChange:s=>{const a=s.target.value.toLowerCase();w?.(a);try{localStorage.setItem("lw_search_lang",a)}catch{}},children:S.map(s=>e.jsx("option",{value:s.code,children:s.label},s.code))}),e.jsx("button",{type:"submit",disabled:u,children:u?(t?.strings?.["search.button"]||"Search")+"…":t?.strings?.["search.button"]||"Search"})]}),e.jsx("div",{className:"hint",children:t?.strings?.["search.hint"]||"Free suggestions and trends. Results appear below."}),e.jsx("div",{className:"hint",style:{opacity:.8},children:"Gebruik de platforms in de zijbalk om de juiste tool voor je zoekwoord te kiezen. De zoekterm blijft behouden."}),g&&e.jsx("div",{className:"error",children:g}),l&&e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"grid",children:e.jsx("div",{className:"card",style:{gridColumn:"span 12"},children:e.jsxs("div",{className:"kpi",children:[e.jsxs("div",{className:"item",children:[e.jsx("div",{className:"label",children:t?.strings?.["kpi.total_keywords"]||"Total keywords"}),e.jsx("div",{className:"kpi-value",children:d(l.summary.total_keywords)})]}),e.jsxs("div",{className:"item",children:[e.jsx("div",{className:"label",children:t?.strings?.["kpi.total_volume"]||"Total volume"}),e.jsx("div",{className:"kpi-value",children:d(l.summary.total_volume)})]}),e.jsxs("div",{className:"item",children:[e.jsx("div",{className:"label",children:t?.strings?.["kpi.real_data_keywords"]||"Real data keywords"}),e.jsx("div",{className:"kpi-value",children:d(l.summary.real_data_keywords)})]}),e.jsxs("div",{className:"item",children:[e.jsx("div",{className:"label",children:t?.strings?.["kpi.avg_interest"]||"Avg. interest"}),e.jsx("div",{className:"kpi-value",children:l.trends.avg_interest})]})]})})}),e.jsx("section",{className:"grid",children:Object.keys(l.categories).sort((s,a)=>{const i=f.length?f:void 0;return i?i.indexOf(s)-i.indexOf(a):0}).map(s=>{const a=l.categories[s];if(!a||!a.length)return null;const i=s.replace(/_/g," ");return e.jsxs("div",{className:"card",style:{gridColumn:"span 12"},children:[e.jsx("h4",{children:i}),e.jsx("div",{children:a.map((y,E)=>e.jsxs("span",{className:"pill",children:[y.keyword," · ",d(y.search_volume)]},E))})]},s)})})]})]})};export{T as default};
