import{r as t,j as S}from"./index-CgW13nsE.js";import{P as E}from"./PlatformToolLayout-BUBe3-FM.js";const z=({keyword:g,setKeyword:v,searchLanguage:n,country:i})=>{const e=g??"",[w,l]=t.useState([]),[y,f]=t.useState(!1),[k,o]=t.useState(null),u=t.useRef(!1),s=t.useCallback(async h=>{const m=h.trim();if(!m){l([]),o(null);return}f(!0),o(null);try{const r=new URLSearchParams({q:m});n&&r.set("lang",n.toLowerCase()),i&&r.set("country",i.toLowerCase());const a=await fetch(`/api/platforms/naver?${r.toString()}`);if(!a.ok){const c=await a.json().catch(()=>null);throw new Error(c?.error||"Onbekende Naver fout")}const d=await a.json(),p=(Array.isArray(d?.suggestions)?d.suggestions:[]).map((c,N)=>({title:c,subtitle:"Naver autosuggest resultaat",metric:`인기 #${N+1}`}));l(p),p.length===0&&o("Geen Naver suggesties gevonden voor dit zoekwoord.")}catch(r){const a=r instanceof Error?r.message:"Onbekende fout";o(a),l([])}finally{f(!1)}},[n,i]);return t.useEffect(()=>{if(!e.trim()){l([]),o(null),u.current=!1;return}u.current||(u.current=!0,s(e))},[e,s]),t.useEffect(()=>{e.trim()&&u.current&&s(e)},[n,i,e,s]),S.jsx(E,{platformName:"Naver",keyword:e,onKeywordChange:v,onSearch:s,description:"Zoekgedrag en contentformats voor Naver.",results:w,placeholder:"Welke Koreaanse term analyseer je?",loading:y,error:k,emptyState:"Voer een zoekwoord in om Naver kansen te zien."})};export{z as default};
