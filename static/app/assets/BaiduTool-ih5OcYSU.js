import{r as o,j as z}from"./index-Cb5Uq9R4.js";import{P as B}from"./PlatformToolLayout-rep_d1Yz.js";const j=a=>{const{keyword:h,setKeyword:w,searchLanguage:l}=a,e=h??"",[y,n]=o.useState([]),[p,d]=o.useState(!1),[k,t]=o.useState(null),i=o.useRef(!1),r=o.useCallback(async S=>{const f=S.trim();if(!f){n([]),t(null);return}d(!0),t(null);try{const u=new URLSearchParams({q:f,lang:(l||"").toLowerCase()}),s=await fetch(`/api/platforms/baidu?${u.toString()}`);if(!s.ok){const c=await s.json().catch(()=>null);throw new Error(c?.error||"Onbekende Baidu fout")}const g=await s.json(),m=(Array.isArray(g?.suggestions)?g.suggestions:[]).map((c,b)=>({title:c,subtitle:"Baidu zoek suggestie",metric:`热门度 #${b+1}`}));n(m),m.length===0&&t("Geen Baidu suggesties gevonden voor dit zoekwoord.")}catch(u){const s=u instanceof Error?u.message:"Onbekende fout";t(s),n([])}finally{d(!1)}},[l]);return o.useEffect(()=>{if(!e.trim()){n([]),t(null),i.current=!1;return}i.current||(i.current=!0,r(e))},[e,r]),o.useEffect(()=>{e.trim()&&i.current&&r(e)},[l,e,r]),z.jsx(B,{platformName:"Baidu",keyword:e,onKeywordChange:w,onSearch:r,description:"Inzichten voor de Chinese zoekmachine Baidu.",results:y,placeholder:"Chinese zoekwoord of merk",loading:p,error:k,emptyState:"Voer een zoekwoord in om Baidu ideeën te zien.",controls:a.locationControls,onGlobalSearch:a.onGlobalSearch,globalLoading:a.globalLoading})};export{j as default};
